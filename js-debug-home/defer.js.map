{"version":3,"sources":["js-debug-home/cookie-consent.js","js-debug-home/defer-xarta.js"],"names":["e","hasInitialised","t","escapeRegExp","replace","hasClass","i","nodeType","className","indexOf","addClass","removeClass","RegExp","interpolateString","arguments","getCookie","document","cookie","split","length","pop","shift","setCookie","n","o","s","Date","setDate","getDate","r","toUTCString","push","join","deepExtend","hasOwnProperty","isPlainObject","throttle","apply","setTimeout","hash","charCodeAt","normaliseHex","substr","getContrast","parseInt","getLuminance","toString","slice","isMobile","test","navigator","userAgent","constructor","Object","status","deny","allow","dismiss","transitionEnd","createElement","OT","msT","MozT","WebkitT","style","hasTransition","keys","map","customStyles","Popup","initialise","openingTimeout","display","removeEventListener","afterTransition","options","onInitialise","bind","window","cookieEnabled","CookiesOK","getStatus","a","position","forEach","c","type","theme","call","p","palette","customStyleSelector","l","showLink","elements","link","messagelink","message","content","compliance","info","layouts","layout","basic","u","container","body","innerHTML","children","onButtonClick","h","addEventListener","autoAttach","firstChild","insertBefore","appendChild","target","match","setStatus","close","revokeChoice","JSON","stringify","d","references","popup","button","highlight","text","background","border","v","head","element","sheet","insertRule","f","ownerNode","parentNode","removeChild","m","b","dismissOnTimeout","dismissTimeout","Math","floor","dismissOnScroll","pageYOffset","onWindowScroll","y","revokable","animateRevokable","revokeBtn","innerHeight","clientY","onMouseMove","g","enabled","name","path","domain","expiryDays","onPopupOpen","onPopupClose","onStatusChange","onRevokeChoice","header","href","autoOpen","whitelistPage","blacklistPage","overrideHTML","prototype","destroy","location","pathname","clearTimeout","open","isOpen","fadeIn","toggleRevokeButton","fadeOut","clientHeight","maxHeight","clearStatus","hasAnswered","hasConsented","Location","currentServiceIndex","src","async","onreadystatechange","onload","readyState","done","XMLHttpRequest","ActiveXObject","setRequestHeader","Array","isArray","send","Error","code","error","timeout","services","serviceDefinitions","freegeoip","url","isScript","callback","parse","country_code","ipinfo","headers","country","ipinfodb","statusCode","statusMessage","countryCode","maxmind","geoip2","iso_code","getNextService","getServiceByIdx","locate","callbackComplete","callbackError","runService","runNextServiceOnError","setupUrl","getCurrentServiceOpts","now","__JSONP_DATA","interpolateUrl","responseText","runServiceCallback","data","onServiceResult","logError","completeService","console","Law","regionalLaw","hasLaw","explicitAction","get","applyLaw","law","getCountryCode","utils","cookieconsent","log","xartalog","el","classList","contains","xartaDebug","getElementsByClassName","msg","getElementById","play","key","Beep","amplify","navDrawer","querySelectorAll","navLi","remove","opacity","rendererGL","domElement","zIndex","YOUTUBEINFRONT","calmCylinders","moonMesh","material","color","setHex","dimDrawer","YouTubeDefault","controls","getOrbitControlsFocus","usingTouchDevice","TOUCHLIKELY","event","defaultPrevented","focusedhref","focusedLi","focusedLiID","id","focusedLiNum","newLiNumDown","querySelector","focus","newLiNumUp","preventDefault","toggle","page","NavHoverState","orbClick","onmouseover","onclick","loadOrbitControls","script","getElementsByTagName","THREE","OrbitControls","camera","YouTubeLink","YouTubeClickedYet","YOUTUBECLICKED","saveState","TOUCHNOTLIKELY","YOUTUBEBEHIND","screenFullSize","YouTubeVidWall","topListButtonID","topListButtonLINK","alreadySelected","getComputedStyle","add","ytWidth","ytHeight","vidWall","Element","YtUnderConstruction","screens","x","z","ry","screenID","div","setAttribute","width","height","backgroundColor","divPause","top","pauseXartaVideo","iframe","object","CSS3DObject","set","rotation","elID","fontSize","fullScreen","s1","s2","s3","s4","onYouTubeIframeAPIReady","YT","Player","events","onPlayerReady","onPlayerStateChange","requestFullScreen","webkitRequestFullScreen","mozRequestFullScreen","PlayerState","PLAYING","getIframe","stopVideo","pauseVideo","tag","firstScriptTag","Group","PI","sceneCSS3D"],"mappings":"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","file":"defer.js","sourcesContent":["// https://cookieconsent.insites.com\r\n!function(e) {\r\n    if (!e.hasInitialised) {\r\n        var t = {\r\n            escapeRegExp: function(e) {\r\n                return e.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\")\r\n            },\r\n            hasClass: function(e, t) {\r\n                var i = \" \";\r\n                return 1 === e.nodeType && (i + e.className + i).replace(/[\\n\\t]/g, i).indexOf(i + t + i) >= 0\r\n            },\r\n            addClass: function(e, t) {\r\n                e.className += \" \" + t\r\n            },\r\n            removeClass: function(e, t) {\r\n                var i = new RegExp(\"\\\\b\" + this.escapeRegExp(t) + \"\\\\b\");\r\n                e.className = e.className.replace(i, \"\")\r\n            },\r\n            interpolateString: function(e, t) {\r\n                var i = /{{([a-z][a-z0-9\\-_]*)}}/gi;\r\n                return e.replace(i, function(e) {\r\n                    return t(arguments[1]) || \"\"\r\n                })\r\n            },\r\n            getCookie: function(e) {\r\n                var t = \"; \" + document.cookie\r\n                  , i = t.split(\"; \" + e + \"=\");\r\n                return 2 != i.length ? void 0 : i.pop().split(\";\").shift()\r\n            },\r\n            setCookie: function(e, t, i, n, o) {\r\n                var s = new Date;\r\n                s.setDate(s.getDate() + (i || 365));\r\n                var r = [e + \"=\" + t, \"expires=\" + s.toUTCString(), \"path=\" + (o || \"/\")];\r\n                n && r.push(\"domain=\" + n),\r\n                document.cookie = r.join(\";\")\r\n            },\r\n            deepExtend: function(e, t) {\r\n                for (var i in t)\r\n                    t.hasOwnProperty(i) && (i in e && this.isPlainObject(e[i]) && this.isPlainObject(t[i]) ? this.deepExtend(e[i], t[i]) : e[i] = t[i]);\r\n                return e\r\n            },\r\n            throttle: function(e, t) {\r\n                var i = !1;\r\n                return function() {\r\n                    i || (e.apply(this, arguments),\r\n                    i = !0,\r\n                    setTimeout(function() {\r\n                        i = !1\r\n                    }, t))\r\n                }\r\n            },\r\n            hash: function(e) {\r\n                var t, i, n, o = 0;\r\n                if (0 === e.length)\r\n                    return o;\r\n                for (t = 0,\r\n                n = e.length; t < n; ++t)\r\n                    i = e.charCodeAt(t),\r\n                    o = (o << 5) - o + i,\r\n                    o |= 0;\r\n                return o\r\n            },\r\n            normaliseHex: function(e) {\r\n                return \"#\" == e[0] && (e = e.substr(1)),\r\n                3 == e.length && (e = e[0] + e[0] + e[1] + e[1] + e[2] + e[2]),\r\n                e\r\n            },\r\n            getContrast: function(e) {\r\n                e = this.normaliseHex(e);\r\n                var t = parseInt(e.substr(0, 2), 16)\r\n                  , i = parseInt(e.substr(2, 2), 16)\r\n                  , n = parseInt(e.substr(4, 2), 16)\r\n                  , o = (299 * t + 587 * i + 114 * n) / 1e3;\r\n                return o >= 128 ? \"#000\" : \"#fff\"\r\n            },\r\n            getLuminance: function(e) {\r\n                var t = parseInt(this.normaliseHex(e), 16)\r\n                  , i = 38\r\n                  , n = (t >> 16) + i\r\n                  , o = (t >> 8 & 255) + i\r\n                  , s = (255 & t) + i\r\n                  , r = (16777216 + 65536 * (n < 255 ? n < 1 ? 0 : n : 255) + 256 * (o < 255 ? o < 1 ? 0 : o : 255) + (s < 255 ? s < 1 ? 0 : s : 255)).toString(16).slice(1);\r\n                return \"#\" + r\r\n            },\r\n            isMobile: function() {\r\n                return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)\r\n            },\r\n            isPlainObject: function(e) {\r\n                return \"object\" == typeof e && null !== e && e.constructor == Object\r\n            }\r\n        };\r\n        e.status = {\r\n            deny: \"deny\",\r\n            allow: \"allow\",\r\n            dismiss: \"dismiss\"\r\n        },\r\n        e.transitionEnd = function() {\r\n            var e = document.createElement(\"div\")\r\n              , t = {\r\n                t: \"transitionend\",\r\n                OT: \"oTransitionEnd\",\r\n                msT: \"MSTransitionEnd\",\r\n                MozT: \"transitionend\",\r\n                WebkitT: \"webkitTransitionEnd\"\r\n            };\r\n            for (var i in t)\r\n                if (t.hasOwnProperty(i) && \"undefined\" != typeof e.style[i + \"ransition\"])\r\n                    return t[i];\r\n            return \"\"\r\n        }(),\r\n        e.hasTransition = !!e.transitionEnd;\r\n        var i = Object.keys(e.status).map(t.escapeRegExp);\r\n        e.customStyles = {},\r\n        e.Popup = function() {\r\n            function n() {\r\n                this.initialise.apply(this, arguments)\r\n            }\r\n            function o(e) {\r\n                this.openingTimeout = null,\r\n                t.removeClass(e, \"cc-invisible\")\r\n            }\r\n            function s(t) {\r\n                t.style.display = \"none\",\r\n                t.removeEventListener(e.transitionEnd, this.afterTransition),\r\n                this.afterTransition = null\r\n            }\r\n            function r() {\r\n                var t = this.options.onInitialise.bind(this);\r\n                if (!window.navigator.cookieEnabled)\r\n                    return t(e.status.deny),\r\n                    !0;\r\n                if (window.CookiesOK || window.navigator.CookiesOK)\r\n                    return t(e.status.allow),\r\n                    !0;\r\n                var i = Object.keys(e.status)\r\n                  , n = this.getStatus()\r\n                  , o = i.indexOf(n) >= 0;\r\n                return o && t(n),\r\n                o\r\n            }\r\n            function a() {\r\n                var e = this.options.position.split(\"-\")\r\n                  , t = [];\r\n                return e.forEach(function(e) {\r\n                    t.push(\"cc-\" + e)\r\n                }),\r\n                t\r\n            }\r\n            function c() {\r\n                var e = this.options\r\n                  , i = \"top\" == e.position || \"bottom\" == e.position ? \"banner\" : \"floating\";\r\n                t.isMobile() && (i = \"floating\");\r\n                var n = [\"cc-\" + i, \"cc-type-\" + e.type, \"cc-theme-\" + e.theme];\r\n                e[\"static\"] && n.push(\"cc-static\"),\r\n                n.push.apply(n, a.call(this));\r\n                p.call(this, this.options.palette);\r\n                return this.customStyleSelector && n.push(this.customStyleSelector),\r\n                n\r\n            }\r\n            function l() {\r\n                var e = {}\r\n                  , i = this.options;\r\n                i.showLink || (i.elements.link = \"\",\r\n                i.elements.messagelink = i.elements.message),\r\n                Object.keys(i.elements).forEach(function(n) {\r\n                    e[n] = t.interpolateString(i.elements[n], function(e) {\r\n                        var t = i.content[e];\r\n                        return e && \"string\" == typeof t && t.length ? t : \"\"\r\n                    })\r\n                });\r\n                var n = i.compliance[i.type];\r\n                n || (n = i.compliance.info),\r\n                e.compliance = t.interpolateString(n, function(t) {\r\n                    return e[t]\r\n                });\r\n                var o = i.layouts[i.layout];\r\n                return o || (o = i.layouts.basic),\r\n                t.interpolateString(o, function(t) {\r\n                    return e[t]\r\n                })\r\n            }\r\n            function u(i) {\r\n                var n = this.options\r\n                  , o = document.createElement(\"div\")\r\n                  , s = n.container && 1 === n.container.nodeType ? n.container : document.body;\r\n                o.innerHTML = i;\r\n                var r = o.children[0];\r\n                return r.style.display = \"none\",\r\n                t.hasClass(r, \"cc-window\") && e.hasTransition && t.addClass(r, \"cc-invisible\"),\r\n                this.onButtonClick = h.bind(this),\r\n                r.addEventListener(\"click\", this.onButtonClick),\r\n                n.autoAttach && (s.firstChild ? s.insertBefore(r, s.firstChild) : s.appendChild(r)),\r\n                r\r\n            }\r\n            function h(n) {\r\n                var o = n.target;\r\n                if (t.hasClass(o, \"cc-btn\")) {\r\n                    var s = o.className.match(new RegExp(\"\\\\bcc-(\" + i.join(\"|\") + \")\\\\b\"))\r\n                      , r = s && s[1] || !1;\r\n                    r && (this.setStatus(r),\r\n                    this.close(!0))\r\n                }\r\n                t.hasClass(o, \"cc-close\") && (this.setStatus(e.status.dismiss),\r\n                this.close(!0)),\r\n                t.hasClass(o, \"cc-revoke\") && this.revokeChoice()\r\n            }\r\n            function p(e) {\r\n                var i = t.hash(JSON.stringify(e))\r\n                  , n = \"cc-color-override-\" + i\r\n                  , o = t.isPlainObject(e);\r\n                return this.customStyleSelector = o ? n : null,\r\n                o && d(i, e, \".\" + n),\r\n                o\r\n            }\r\n            function d(i, n, o) {\r\n                if (e.customStyles[i])\r\n                    return void ++e.customStyles[i].references;\r\n                var s = {}\r\n                  , r = n.popup\r\n                  , a = n.button\r\n                  , c = n.highlight;\r\n                r && (r.text = r.text ? r.text : t.getContrast(r.background),\r\n                r.link = r.link ? r.link : r.text,\r\n                s[o + \".cc-window\"] = [\"color: \" + r.text, \"background-color: \" + r.background],\r\n                s[o + \".cc-revoke\"] = [\"color: \" + r.text, \"background-color: \" + r.background],\r\n                s[o + \" .cc-link,\" + o + \" .cc-link:active,\" + o + \" .cc-link:visited\"] = [\"color: \" + r.link],\r\n                a && (a.text = a.text ? a.text : t.getContrast(a.background),\r\n                a.border = a.border ? a.border : \"transparent\",\r\n                s[o + \" .cc-btn\"] = [\"color: \" + a.text, \"border-color: \" + a.border, \"background-color: \" + a.background],\r\n                \"transparent\" != a.background && (s[o + \" .cc-btn:hover, \" + o + \" .cc-btn:focus\"] = [\"background-color: \" + v(a.background)]),\r\n                c ? (c.text = c.text ? c.text : t.getContrast(c.background),\r\n                c.border = c.border ? c.border : \"transparent\",\r\n                s[o + \" .cc-highlight .cc-btn:first-child\"] = [\"color: \" + c.text, \"border-color: \" + c.border, \"background-color: \" + c.background]) : s[o + \" .cc-highlight .cc-btn:first-child\"] = [\"color: \" + r.text]));\r\n                var l = document.createElement(\"style\");\r\n                document.head.appendChild(l),\r\n                e.customStyles[i] = {\r\n                    references: 1,\r\n                    element: l.sheet\r\n                };\r\n                var u = -1;\r\n                for (var h in s)\r\n                    s.hasOwnProperty(h) && l.sheet.insertRule(h + \"{\" + s[h].join(\";\") + \"}\", ++u)\r\n            }\r\n            function v(e) {\r\n                return e = t.normaliseHex(e),\r\n                \"000000\" == e ? \"#222\" : t.getLuminance(e)\r\n            }\r\n            function f(i) {\r\n                if (t.isPlainObject(i)) {\r\n                    var n = t.hash(JSON.stringify(i))\r\n                      , o = e.customStyles[n];\r\n                    if (o && !--o.references) {\r\n                        var s = o.element.ownerNode;\r\n                        s && s.parentNode && s.parentNode.removeChild(s),\r\n                        e.customStyles[n] = null\r\n                    }\r\n                }\r\n            }\r\n            function m(e, t) {\r\n                for (var i = 0, n = e.length; i < n; ++i) {\r\n                    var o = e[i];\r\n                    if (o instanceof RegExp && o.test(t) || \"string\" == typeof o && o.length && o === t)\r\n                        return !0\r\n                }\r\n                return !1\r\n            }\r\n            function b() {\r\n                var t = this.setStatus.bind(this)\r\n                  , i = this.options.dismissOnTimeout;\r\n                \"number\" == typeof i && i >= 0 && (this.dismissTimeout = window.setTimeout(function() {\r\n                    t(e.status.dismiss)\r\n                }, Math.floor(i)));\r\n                var n = this.options.dismissOnScroll;\r\n                if (\"number\" == typeof n && n >= 0) {\r\n                    var o = function(i) {\r\n                        window.pageYOffset > Math.floor(n) && (t(e.status.dismiss),\r\n                        window.removeEventListener(\"scroll\", o),\r\n                        this.onWindowScroll = null)\r\n                    };\r\n                    this.onWindowScroll = o,\r\n                    window.addEventListener(\"scroll\", o)\r\n                }\r\n            }\r\n            function y() {\r\n                if (\"info\" != this.options.type && (this.options.revokable = !0),\r\n                t.isMobile() && (this.options.animateRevokable = !1),\r\n                this.options.revokable) {\r\n                    var e = a.call(this);\r\n                    this.options.animateRevokable && e.push(\"cc-animate\"),\r\n                    this.customStyleSelector && e.push(this.customStyleSelector);\r\n                    var i = this.options.revokeBtn.replace(\"{{classes}}\", e.join(\" \"));\r\n                    this.revokeBtn = u.call(this, i);\r\n                    var n = this.revokeBtn;\r\n                    if (this.options.animateRevokable) {\r\n                        var o = t.throttle(function(e) {\r\n                            var i = !1\r\n                              , o = 20\r\n                              , s = window.innerHeight - 20;\r\n                            t.hasClass(n, \"cc-top\") && e.clientY < o && (i = !0),\r\n                            t.hasClass(n, \"cc-bottom\") && e.clientY > s && (i = !0),\r\n                            i ? t.hasClass(n, \"cc-active\") || t.addClass(n, \"cc-active\") : t.hasClass(n, \"cc-active\") && t.removeClass(n, \"cc-active\")\r\n                        }, 200);\r\n                        this.onMouseMove = o,\r\n                        window.addEventListener(\"mousemove\", o)\r\n                    }\r\n                }\r\n            }\r\n            var g = {\r\n                enabled: !0,\r\n                container: null,\r\n                cookie: {\r\n                    name: \"cookieconsent_status\",\r\n                    path: \"/\",\r\n                    domain: \"\",\r\n                    expiryDays: 365\r\n                },\r\n                onPopupOpen: function() {},\r\n                onPopupClose: function() {},\r\n                onInitialise: function(e) {},\r\n                onStatusChange: function(e, t) {},\r\n                onRevokeChoice: function() {},\r\n                content: {\r\n                    header: \"Cookies used on the website!\",\r\n                    message: \"This website uses cookies to ensure you get the best experience on our website.\",\r\n                    dismiss: \"Got it!\",\r\n                    allow: \"Allow cookies\",\r\n                    deny: \"Decline\",\r\n                    link: \"Learn more\",\r\n                    href: \"http://cookiesandyou.com\",\r\n                    close: \"&#x274c;\"\r\n                },\r\n                elements: {\r\n                    header: '<span class=\"cc-header\">{{header}}</span>&nbsp;',\r\n                    message: '<span id=\"cookieconsent:desc\" class=\"cc-message\">{{message}}</span>',\r\n                    messagelink: '<span id=\"cookieconsent:desc\" class=\"cc-message\">{{message}} <a aria-label=\"learn more about cookies\" role=button tabindex=\"0\" class=\"cc-link\" href=\"{{href}}\" target=\"_blank\">{{link}}</a></span>',\r\n                    dismiss: '<a aria-label=\"dismiss cookie message\" role=button tabindex=\"0\" class=\"cc-btn cc-dismiss\">{{dismiss}}</a>',\r\n                    allow: '<a aria-label=\"allow cookies\" role=button tabindex=\"0\"  class=\"cc-btn cc-allow\">{{allow}}</a>',\r\n                    deny: '<a aria-label=\"deny cookies\" role=button tabindex=\"0\" class=\"cc-btn cc-deny\">{{deny}}</a>',\r\n                    link: '<a aria-label=\"learn more about cookies\" role=button tabindex=\"0\" class=\"cc-link\" href=\"{{href}}\" target=\"_blank\">{{link}}</a>',\r\n                    close: '<span aria-label=\"dismiss cookie message\" role=button tabindex=\"0\" class=\"cc-close\">{{close}}</span>'\r\n                },\r\n                window: '<div role=\"dialog\" aria-live=\"polite\" aria-label=\"cookieconsent\" aria-describedby=\"cookieconsent:desc\" class=\"cc-window {{classes}}\"><!--googleoff: all-->{{children}}<!--googleon: all--></div>',\r\n                revokeBtn: '<div class=\"cc-revoke {{classes}}\">Cookie Policy</div>',\r\n                compliance: {\r\n                    info: '<div class=\"cc-compliance\">{{dismiss}}</div>',\r\n                    \"opt-in\": '<div class=\"cc-compliance cc-highlight\">{{dismiss}}{{allow}}</div>',\r\n                    \"opt-out\": '<div class=\"cc-compliance cc-highlight\">{{deny}}{{dismiss}}</div>'\r\n                },\r\n                type: \"info\",\r\n                layouts: {\r\n                    basic: \"{{messagelink}}{{compliance}}\",\r\n                    \"basic-close\": \"{{messagelink}}{{compliance}}{{close}}\",\r\n                    \"basic-header\": \"{{header}}{{message}}{{link}}{{compliance}}\"\r\n                },\r\n                layout: \"basic\",\r\n                position: \"bottom\",\r\n                theme: \"block\",\r\n                \"static\": !1,\r\n                palette: null,\r\n                revokable: !1,\r\n                animateRevokable: !0,\r\n                showLink: !0,\r\n                dismissOnScroll: !1,\r\n                dismissOnTimeout: !1,\r\n                autoOpen: !0,\r\n                autoAttach: !0,\r\n                whitelistPage: [],\r\n                blacklistPage: [],\r\n                overrideHTML: null\r\n            };\r\n            return n.prototype.initialise = function(e) {\r\n                this.options && this.destroy(),\r\n                t.deepExtend(this.options = {}, g),\r\n                t.isPlainObject(e) && t.deepExtend(this.options, e),\r\n                r.call(this) && (this.options.enabled = !1),\r\n                m(this.options.blacklistPage, location.pathname) && (this.options.enabled = !1),\r\n                m(this.options.whitelistPage, location.pathname) && (this.options.enabled = !0);\r\n                var i = this.options.window.replace(\"{{classes}}\", c.call(this).join(\" \")).replace(\"{{children}}\", l.call(this))\r\n                  , n = this.options.overrideHTML;\r\n                if (\"string\" == typeof n && n.length && (i = n),\r\n                this.options[\"static\"]) {\r\n                    var o = u.call(this, '<div class=\"cc-grower\">' + i + \"</div>\");\r\n                    o.style.display = \"\",\r\n                    this.element = o.firstChild,\r\n                    this.element.style.display = \"none\",\r\n                    t.addClass(this.element, \"cc-invisible\")\r\n                } else\r\n                    this.element = u.call(this, i);\r\n                b.call(this),\r\n                y.call(this),\r\n                this.options.autoOpen && this.autoOpen()\r\n            }\r\n            ,\r\n            n.prototype.destroy = function() {\r\n                this.onButtonClick && this.element && (this.element.removeEventListener(\"click\", this.onButtonClick),\r\n                this.onButtonClick = null),\r\n                this.dismissTimeout && (clearTimeout(this.dismissTimeout),\r\n                this.dismissTimeout = null),\r\n                this.onWindowScroll && (window.removeEventListener(\"scroll\", this.onWindowScroll),\r\n                this.onWindowScroll = null),\r\n                this.onMouseMove && (window.removeEventListener(\"mousemove\", this.onMouseMove),\r\n                this.onMouseMove = null),\r\n                this.element && this.element.parentNode && this.element.parentNode.removeChild(this.element),\r\n                this.element = null,\r\n                this.revokeBtn && this.revokeBtn.parentNode && this.revokeBtn.parentNode.removeChild(this.revokeBtn),\r\n                this.revokeBtn = null,\r\n                f(this.options.palette),\r\n                this.options = null\r\n            }\r\n            ,\r\n            n.prototype.open = function(t) {\r\n                if (this.element)\r\n                    return this.isOpen() || (e.hasTransition ? this.fadeIn() : this.element.style.display = \"\",\r\n                    this.options.revokable && this.toggleRevokeButton(),\r\n                    this.options.onPopupOpen.call(this)),\r\n                    this\r\n            }\r\n            ,\r\n            n.prototype.close = function(t) {\r\n                if (this.element)\r\n                    return this.isOpen() && (e.hasTransition ? this.fadeOut() : this.element.style.display = \"none\",\r\n                    t && this.options.revokable && this.toggleRevokeButton(!0),\r\n                    this.options.onPopupClose.call(this)),\r\n                    this\r\n            }\r\n            ,\r\n            n.prototype.fadeIn = function() {\r\n                var i = this.element;\r\n                if (e.hasTransition && i && (this.afterTransition && s.call(this, i),\r\n                t.hasClass(i, \"cc-invisible\"))) {\r\n                    if (i.style.display = \"\",\r\n                    this.options[\"static\"]) {\r\n                        var n = this.element.clientHeight;\r\n                        this.element.parentNode.style.maxHeight = n + \"px\"\r\n                    }\r\n                    var r = 20;\r\n                    this.openingTimeout = setTimeout(o.bind(this, i), r)\r\n                }\r\n            }\r\n            ,\r\n            n.prototype.fadeOut = function() {\r\n                var i = this.element;\r\n                e.hasTransition && i && (this.openingTimeout && (clearTimeout(this.openingTimeout),\r\n                o.bind(this, i)),\r\n                t.hasClass(i, \"cc-invisible\") || (this.options[\"static\"] && (this.element.parentNode.style.maxHeight = \"\"),\r\n                this.afterTransition = s.bind(this, i),\r\n                i.addEventListener(e.transitionEnd, this.afterTransition),\r\n                t.addClass(i, \"cc-invisible\")))\r\n            }\r\n            ,\r\n            n.prototype.isOpen = function() {\r\n                return this.element && \"\" == this.element.style.display && (!e.hasTransition || !t.hasClass(this.element, \"cc-invisible\"))\r\n            }\r\n            ,\r\n            n.prototype.toggleRevokeButton = function(e) {\r\n                this.revokeBtn && (this.revokeBtn.style.display = e ? \"\" : \"none\")\r\n            }\r\n            ,\r\n            n.prototype.revokeChoice = function(e) {\r\n                this.options.enabled = !0,\r\n                this.clearStatus(),\r\n                this.options.onRevokeChoice.call(this),\r\n                e || this.autoOpen()\r\n            }\r\n            ,\r\n            n.prototype.hasAnswered = function(t) {\r\n                return Object.keys(e.status).indexOf(this.getStatus()) >= 0\r\n            }\r\n            ,\r\n            n.prototype.hasConsented = function(t) {\r\n                var i = this.getStatus();\r\n                return i == e.status.allow || i == e.status.dismiss\r\n            }\r\n            ,\r\n            n.prototype.autoOpen = function(e) {\r\n                !this.hasAnswered() && this.options.enabled && this.open()\r\n            }\r\n            ,\r\n            n.prototype.setStatus = function(i) {\r\n                var n = this.options.cookie\r\n                  , o = t.getCookie(n.name)\r\n                  , s = Object.keys(e.status).indexOf(o) >= 0;\r\n                Object.keys(e.status).indexOf(i) >= 0 ? (t.setCookie(n.name, i, n.expiryDays, n.domain, n.path),\r\n                this.options.onStatusChange.call(this, i, s)) : this.clearStatus()\r\n            }\r\n            ,\r\n            n.prototype.getStatus = function() {\r\n                return t.getCookie(this.options.cookie.name)\r\n            }\r\n            ,\r\n            n.prototype.clearStatus = function() {\r\n                var e = this.options.cookie;\r\n                t.setCookie(e.name, \"\", -1, e.domain, e.path)\r\n            }\r\n            ,\r\n            n\r\n        }(),\r\n        e.Location = function() {\r\n            function e(e) {\r\n                t.deepExtend(this.options = {}, s),\r\n                t.isPlainObject(e) && t.deepExtend(this.options, e),\r\n                this.currentServiceIndex = -1\r\n            }\r\n            function i(e, t, i) {\r\n                var n, o = document.createElement(\"script\");\r\n                o.type = \"text/\" + (e.type || \"javascript\"),\r\n                o.src = e.src || e,\r\n                o.async = !1,\r\n                o.onreadystatechange = o.onload = function() {\r\n                    var e = o.readyState;\r\n                    clearTimeout(n),\r\n                    t.done || e && !/loaded|complete/.test(e) || (t.done = !0,\r\n                    t(),\r\n                    o.onreadystatechange = o.onload = null)\r\n                }\r\n                ,\r\n                document.body.appendChild(o),\r\n                n = setTimeout(function() {\r\n                    t.done = !0,\r\n                    t(),\r\n                    o.onreadystatechange = o.onload = null\r\n                }, i)\r\n            }\r\n            function n(e, t, i, n, o) {\r\n                var s = new (window.XMLHttpRequest || window.ActiveXObject)(\"MSXML2.XMLHTTP.3.0\");\r\n                if (s.open(n ? \"POST\" : \"GET\", e, 1),\r\n                s.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\"),\r\n                s.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\"),\r\n                Array.isArray(o))\r\n                    for (var r = 0, a = o.length; r < a; ++r) {\r\n                        var c = o[r].split(\":\", 2);\r\n                        s.setRequestHeader(c[0].replace(/^\\s+|\\s+$/g, \"\"), c[1].replace(/^\\s+|\\s+$/g, \"\"))\r\n                    }\r\n                \"function\" == typeof t && (s.onreadystatechange = function() {\r\n                    s.readyState > 3 && t(s)\r\n                }\r\n                ),\r\n                s.send(n)\r\n            }\r\n            function o(e) {\r\n                return new Error(\"Error [\" + (e.code || \"UNKNOWN\") + \"]: \" + e.error)\r\n            }\r\n            var s = {\r\n                timeout: 5e3,\r\n                services: [\"freegeoip\", \"ipinfo\", \"maxmind\"],\r\n                serviceDefinitions: {\r\n                    freegeoip: function() {\r\n                        return {\r\n                            url: \"//freegeoip.net/json/?callback={callback}\",\r\n                            isScript: !0,\r\n                            callback: function(e, t) {\r\n                                try {\r\n                                    var i = JSON.parse(t);\r\n                                    return i.error ? o(i) : {\r\n                                        code: i.country_code\r\n                                    }\r\n                                } catch (n) {\r\n                                    return o({\r\n                                        error: \"Invalid response (\" + n + \")\"\r\n                                    })\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    ipinfo: function() {\r\n                        return {\r\n                            url: \"//ipinfo.io\",\r\n                            headers: [\"Accept: application/json\"],\r\n                            callback: function(e, t) {\r\n                                try {\r\n                                    var i = JSON.parse(t);\r\n                                    return i.error ? o(i) : {\r\n                                        code: i.country\r\n                                    }\r\n                                } catch (n) {\r\n                                    return o({\r\n                                        error: \"Invalid response (\" + n + \")\"\r\n                                    })\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    ipinfodb: function(e) {\r\n                        return {\r\n                            url: \"//api.ipinfodb.com/v3/ip-country/?key={api_key}&format=json&callback={callback}\",\r\n                            isScript: !0,\r\n                            callback: function(e, t) {\r\n                                try {\r\n                                    var i = JSON.parse(t);\r\n                                    return \"ERROR\" == i.statusCode ? o({\r\n                                        error: i.statusMessage\r\n                                    }) : {\r\n                                        code: i.countryCode\r\n                                    }\r\n                                } catch (n) {\r\n                                    return o({\r\n                                        error: \"Invalid response (\" + n + \")\"\r\n                                    })\r\n                                }\r\n                            }\r\n                        }\r\n                    },\r\n                    maxmind: function() {\r\n                        return {\r\n                            url: \"//js.maxmind.com/js/apis/geoip2/v2.1/geoip2.js\",\r\n                            isScript: !0,\r\n                            callback: function(e) {\r\n                                return window.geoip2 ? void geoip2.country(function(t) {\r\n                                    try {\r\n                                        e({\r\n                                            code: t.country.iso_code\r\n                                        })\r\n                                    } catch (i) {\r\n                                        e(o(i))\r\n                                    }\r\n                                }, function(t) {\r\n                                    e(o(t))\r\n                                }) : void e(new Error(\"Unexpected response format. The downloaded script should have exported `geoip2` to the global scope\"))\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            return e.prototype.getNextService = function() {\r\n                var e;\r\n                do\r\n                    e = this.getServiceByIdx(++this.currentServiceIndex);\r\n                while (this.currentServiceIndex < this.options.services.length && !e);return e\r\n            }\r\n            ,\r\n            e.prototype.getServiceByIdx = function(e) {\r\n                var i = this.options.services[e];\r\n                if (\"function\" == typeof i) {\r\n                    var n = i();\r\n                    return n.name && t.deepExtend(n, this.options.serviceDefinitions[n.name](n)),\r\n                    n\r\n                }\r\n                return \"string\" == typeof i ? this.options.serviceDefinitions[i]() : t.isPlainObject(i) ? this.options.serviceDefinitions[i.name](i) : null\r\n            }\r\n            ,\r\n            e.prototype.locate = function(e, t) {\r\n                var i = this.getNextService();\r\n                return i ? (this.callbackComplete = e,\r\n                this.callbackError = t,\r\n                void this.runService(i, this.runNextServiceOnError.bind(this))) : void t(new Error(\"No services to run\"))\r\n            }\r\n            ,\r\n            e.prototype.setupUrl = function(e) {\r\n                var t = this.getCurrentServiceOpts();\r\n                return e.url.replace(/\\{(.*?)\\}/g, function(i, n) {\r\n                    if (\"callback\" === n) {\r\n                        var o = \"callback\" + Date.now();\r\n                        return window[o] = function(t) {\r\n                            e.__JSONP_DATA = JSON.stringify(t)\r\n                        }\r\n                        ,\r\n                        o\r\n                    }\r\n                    if (n in t.interpolateUrl)\r\n                        return t.interpolateUrl[n]\r\n                })\r\n            }\r\n            ,\r\n            e.prototype.runService = function(e, t) {\r\n                var o = this;\r\n                if (e && e.url && e.callback) {\r\n                    var s = e.isScript ? i : n\r\n                      , r = this.setupUrl(e);\r\n                    s(r, function(i) {\r\n                        var n = i ? i.responseText : \"\";\r\n                        e.__JSONP_DATA && (n = e.__JSONP_DATA,\r\n                        delete e.__JSONP_DATA),\r\n                        o.runServiceCallback.call(o, t, e, n)\r\n                    }, this.options.timeout, e.data, e.headers)\r\n                }\r\n            }\r\n            ,\r\n            e.prototype.runServiceCallback = function(e, t, i) {\r\n                var n = this\r\n                  , o = function(t) {\r\n                    s || n.onServiceResult.call(n, e, t)\r\n                }\r\n                  , s = t.callback(o, i);\r\n                s && this.onServiceResult.call(this, e, s)\r\n            }\r\n            ,\r\n            e.prototype.onServiceResult = function(e, t) {\r\n                t instanceof Error || t && t.error ? e.call(this, t, null) : e.call(this, null, t)\r\n            }\r\n            ,\r\n            e.prototype.runNextServiceOnError = function(e, t) {\r\n                if (e) {\r\n                    this.logError(e);\r\n                    var i = this.getNextService();\r\n                    i ? this.runService(i, this.runNextServiceOnError.bind(this)) : this.completeService.call(this, this.callbackError, new Error(\"All services failed\"))\r\n                } else\r\n                    this.completeService.call(this, this.callbackComplete, t)\r\n            }\r\n            ,\r\n            e.prototype.getCurrentServiceOpts = function() {\r\n                var e = this.options.services[this.currentServiceIndex];\r\n                return \"string\" == typeof e ? {\r\n                    name: e\r\n                } : \"function\" == typeof e ? e() : t.isPlainObject(e) ? e : {}\r\n            }\r\n            ,\r\n            e.prototype.completeService = function(e, t) {\r\n                this.currentServiceIndex = -1,\r\n                e && e(t)\r\n            }\r\n            ,\r\n            e.prototype.logError = function(e) {\r\n                var t = this.currentServiceIndex\r\n                  , i = this.getServiceByIdx(t);\r\n                console.error(\"The service[\" + t + \"] (\" + i.url + \") responded with the following error\", e)\r\n            }\r\n            ,\r\n            e\r\n        }(),\r\n        e.Law = function() {\r\n            function e(e) {\r\n                this.initialise.apply(this, arguments)\r\n            }\r\n            var i = {\r\n                regionalLaw: !0,\r\n                hasLaw: [\"AT\", \"BE\", \"BG\", \"HR\", \"CZ\", \"CY\", \"DK\", \"EE\", \"FI\", \"FR\", \"DE\", \"EL\", \"HU\", \"IE\", \"IT\", \"LV\", \"LT\", \"LU\", \"MT\", \"NL\", \"PL\", \"PT\", \"SK\", \"SI\", \"ES\", \"SE\", \"GB\", \"UK\"],\r\n                revokable: [\"HR\", \"CY\", \"DK\", \"EE\", \"FR\", \"DE\", \"LV\", \"LT\", \"NL\", \"PT\", \"ES\"],\r\n                explicitAction: [\"HR\", \"IT\", \"ES\"]\r\n            };\r\n            return e.prototype.initialise = function(e) {\r\n                t.deepExtend(this.options = {}, i),\r\n                t.isPlainObject(e) && t.deepExtend(this.options, e)\r\n            }\r\n            ,\r\n            e.prototype.get = function(e) {\r\n                var t = this.options;\r\n                return {\r\n                    hasLaw: t.hasLaw.indexOf(e) >= 0,\r\n                    revokable: t.revokable.indexOf(e) >= 0,\r\n                    explicitAction: t.explicitAction.indexOf(e) >= 0\r\n                }\r\n            }\r\n            ,\r\n            e.prototype.applyLaw = function(e, t) {\r\n                var i = this.get(t);\r\n                return i.hasLaw || (e.enabled = !1),\r\n                this.options.regionalLaw && (i.revokable && (e.revokable = !0),\r\n                i.explicitAction && (e.dismissOnScroll = !1,\r\n                e.dismissOnTimeout = !1)),\r\n                e\r\n            }\r\n            ,\r\n            e\r\n        }(),\r\n        e.initialise = function(t, i, n) {\r\n            var o = new e.Law(t.law);\r\n            i || (i = function() {}\r\n            ),\r\n            n || (n = function() {}\r\n            ),\r\n            e.getCountryCode(t, function(n) {\r\n                delete t.law,\r\n                delete t.location,\r\n                n.code && (t = o.applyLaw(t, n.code)),\r\n                i(new e.Popup(t))\r\n            }, function(i) {\r\n                delete t.law,\r\n                delete t.location,\r\n                n(i, new e.Popup(t))\r\n            })\r\n        }\r\n        ,\r\n        e.getCountryCode = function(t, i, n) {\r\n            if (t.law && t.law.countryCode)\r\n                return void i({\r\n                    code: t.law.countryCode\r\n                });\r\n            if (t.location) {\r\n                var o = new e.Location(t.location);\r\n                return void o.locate(function(e) {\r\n                    i(e || {})\r\n                }, n)\r\n            }\r\n            i({})\r\n        }\r\n        ,\r\n        e.utils = t,\r\n        e.hasInitialised = !0,\r\n        window.cookieconsent = e\r\n    }\r\n}(window.cookieconsent || {});\r\n","console.log(\"defer.js loaded\");\r\n\r\nvar xartalog;\r\n\r\nfunction hasClass(el, className)\r\n    {\r\n        if (el.classList)\r\n        {\r\n            //console.log(\"hasClass(): el.classList\");\r\n            return el.classList.contains(className);\r\n        }\r\n        else\r\n        {\r\n            //console.log(\"hasClass(): new RegExp\");\r\n            return new RegExp('(^| )' + className + '( |$)', 'gi').test(el.className);\r\n        }\r\n    }\r\n\r\n\r\n// DEBUG - SHOW\r\nif (window.xartaDebug === true)\r\n{\r\n    for (var i=0; i<document.getElementsByClassName(\"debug\").length; i++)\r\n    {\r\n        document.getElementsByClassName(\"debug\")[i].style.display = \"block\";\r\n    }\r\n\r\n    xartalog = function (msg) \r\n    {\r\n        var p = document.getElementById('log');\r\n        p.innerHTML = msg + \"<br>\" + p.innerHTML;\r\n    }\r\n\r\n    xartalog(\"<h2>Using staging server: in debug mode:</h2><br>\");\r\n}\r\nelse\r\n{\r\n    xartalog = function (msg)\r\n    {\r\n        console.log(msg);\r\n    }\r\n}\r\n\r\n\r\n// https://github.com/luciferous/beepjs -------------------------------------------------------\r\n\r\n// only first note will play (as direct consequence of click/guester) on Android Chrome\r\nfunction play(keys) \r\n{\r\n    var key = keys.shift();\r\n    if(typeof key == 'undefined') return; // song ended\r\n    new Beep(22050).play(key[0], key[1], [Beep.utils.amplify(8000)], function() { play(keys); });\r\n}\r\n\r\n// ---------------------------------------------------------------------------------------------\r\n\r\n\r\nnavDrawer.addEventListener('mouseover', function(e){\r\n    for (let navLi of document.querySelectorAll(\".sticky\"))\r\n    {\r\n        navLi.classList.remove(\"has-kbrd-hover\");\r\n    } \r\n    window.navDrawer.style.opacity = 1.0;\r\n    rendererGL.domElement.style.zIndex = YOUTUBEINFRONT;\r\n    window.calmCylinders = true;        // used in scene.js minified to homepage.js\r\n    if ( !(typeof window.moonMesh === 'undefined' || window.moonMesh === null) ) \r\n    {\r\n        window.moonMesh.material.color.setHex( 0xff0000 );\r\n    }\r\n    clearTimeout(dimDrawer);\r\n    dimDrawer = setTimeout(function() {\r\n        rendererGL.domElement.style.zIndex = YouTubeDefault;\r\n        window.navDrawer.style.opacity = 0.3;\r\n        window.calmCylinders = false;   // used in scene.js minified to homepage.js\r\n        if ( !(typeof window.moonMesh === 'undefined' || window.moonMesh === null) ) \r\n        {\r\n            window.moonMesh.material.color.setHex( 0xffffff );\r\n        }\r\n        if (window.controls !== null)\r\n        {\r\n             setTimeout(getOrbitControlsFocus(), 20);\r\n        }\r\n    }, 3000);\r\n}, false);\r\n\r\nnavDrawer.addEventListener('touchstart', function(e){\r\n    for (let navLi of document.querySelectorAll(\".sticky\"))\r\n    {\r\n        navLi.classList.remove(\"has-kbrd-hover\");\r\n    } \r\n    usingTouchDevice = TOUCHLIKELY;\r\n    YouTubeDefault = YOUTUBEINFRONT;\r\n    window.calmCylinders = true;        // used in scene.js minified to homepage.js\r\n    window.navDrawer.style.opacity = 1.0;\r\n    rendererGL.domElement.style.zIndex = YOUTUBEINFRONT;\r\n    clearTimeout(dimDrawer);\r\n    dimDrawer = setTimeout(function() \r\n    {\r\n        window.navDrawer.style.opacity = 0.2;\r\n        window.calmCylinders = false;   // used in scene.js minified to homepage.js\r\n        rendererGL.domElement.style.zIndex = YouTubeDefault;\r\n\r\n        if (window.controls !== null)\r\n        {\r\n            setTimeout(getOrbitControlsFocus(), 20);\r\n        }\r\n    }, 3000);\r\n}, false);\r\n\r\n\r\n\r\nnavDrawer.addEventListener(\"keydown\", function (event) {\r\n  if (event.defaultPrevented) {\r\n    return; // Do nothing if the event was already processed\r\n  }\r\n\r\n    window.calmCylinders = true;        // used in scene.js minified to homepage.js\r\n    window.navDrawer.style.opacity = 1.0;\r\n    rendererGL.domElement.style.zIndex = YOUTUBEINFRONT;\r\n    clearTimeout(dimDrawer);\r\n    dimDrawer = setTimeout(function() \r\n    {\r\n        window.navDrawer.style.opacity = 0.2;\r\n        window.calmCylinders = false;   // used in scene.js minified to homepage.js\r\n        rendererGL.domElement.style.zIndex = YouTubeDefault;\r\n\r\n        if (window.controls !== null)\r\n        {\r\n            setTimeout(getOrbitControlsFocus(), 20);\r\n        }\r\n    }, 3000);\r\n\r\n  switch (event.key) {\r\n    case \"ArrowDown\":\r\n      // Do something for \"down arrow\" key press.\r\n      break;\r\n    case \"ArrowUp\":\r\n      // Do something for \"up arrow\" key press.\r\n      break;\r\n    case \"ArrowLeft\":\r\n      // Do something for \"left arrow\" key press.\r\n      break;\r\n    case \"ArrowRight\":\r\n      // Do something for \"right arrow\" key press.\r\n      break;\r\n    case \"Tab\":\r\n      console.log(\"Navigation: TAB pressed\");\r\n      break;\r\n    case \"Enter\":\r\n      // Do something for \"enter\" or \"return\" key press.\r\n      console.log(\"Navigation: ENTER pressed\");\r\n      break;\r\n    case \"Escape\":\r\n      // Do something for \"esc\" key press.\r\n      break;\r\n    default:\r\n      return; // Quit when this doesn't handle the key event.\r\n  }\r\n  // Cancel the default action to avoid it being handled twice\r\n  //event.preventDefault();\r\n}, true);\r\n\r\nfor (let navLi of document.querySelectorAll(\"#li01, #li02, #li03\")) \r\n{\r\n    navLi.addEventListener(\"keydown\", function (event) \r\n    {\r\n        if (event.defaultPrevented) \r\n        {\r\n            return; // Do nothing if the event was already processed\r\n        }\r\n        \r\n        let focusedhref = document.querySelectorAll('.sticky :focus');\r\n        let focusedLi = focusedhref[0].parentNode;\r\n        let focusedLiID = focusedLi.id;\r\n        let focusedLiNum = focusedLiID.substr(3,1);\r\n\r\n        console.log(\"focusedLiID = \" + focusedLiID);\r\n        console.log(\"focusedLiNum = \" + focusedLiNum);\r\n        \r\n        switch (event.key) {\r\n            case \"ArrowDown\":\r\n                let newLiNumDown = (focusedLiNum) %3 + 1;\r\n                document.querySelector(\"#li0\" + newLiNumDown + \" a\").focus();\r\n            break;\r\n            case \"ArrowUp\":\r\n                let newLiNumUp = (focusedLiNum + 4) %3 + 1;\r\n                document.querySelector(\"#li0\" + newLiNumUp + \" a\").focus();\r\n            break;\r\n            case \"ArrowLeft\":\r\n                document.querySelector(\"#li0\" + focusedLiNum + \" li > a\").focus();\r\n                // TODO - navigate children of li01, li02, li03 etc.\r\n                /**\r\n                 * This will be tricky ... focusedLiNum might be undefined? Check.\r\n                 * Look at siblings?  Count/length children? Just need to index\r\n                 * children that are visible, so can iterate over.\r\n                 * \r\n                 * nb: don't want ArrowLeft to work if flyout menu isn't out!\r\n                 * Will break page.\r\n                 */\r\n            break;\r\n            case \"ArrowRight\":\r\n                // TODO - navigate children of li01, li02, li03 etc.\r\n            break;\r\n            case \"Tab\":\r\n                event.preventDefault();\r\n            break;\r\n            case \"Enter\":\r\n                for (let navLi of document.querySelectorAll(\".sticky:not(#\" + focusedLiID + \")\"))\r\n                {\r\n                    navLi.classList.remove(\"has-kbrd-hover\");\r\n                } \r\n\r\n                focusedLi.classList.toggle(\"has-kbrd-hover\");\r\n                event.preventDefault();\r\n            break;\r\n            case \"Escape\":\r\n\r\n            break;\r\n            default:\r\n            return; // Quit when this doesn't handle the key event.\r\n        }\r\n        // Cancel the default action to avoid it being handled twice\r\n        //event.preventDefault();        \r\n    }, true);\r\n}\r\n\r\n\r\nfunction getOrbitControlsFocus()\r\n{\r\n    document.getElementById('controlsFocus').focus();\r\n\r\n    var path = window.location.pathname;\r\n    var page = path.split(\"/\").pop();\r\n\r\n    if (!(page === \"index-d.html\"))\r\n    {\r\n        document.getElementById(\"cameraPos\").style.display=\"block\";\r\n        setTimeout(function() \r\n        {\r\n            // consider how this effects keyboard access - then again Orbitcontrols!\r\n            // but, also, look at tabindex = -1. Need to provide way to menu from\r\n            // keyboard, when in OrbitControls ... TODO: look-up exit key combo\r\n            document.getElementById('controlsFocus').focus();\r\n            setTimeout(function() {\r\n                document.getElementById(\"cameraPos\").style.display=\"none\";\r\n            }, 50);\r\n        }, 20);  \r\n    }\r\n    console.log(\"focusing on element to get OrbitControls back\");\r\n}\r\n\r\nnavDrawer.addEventListener('click', function(e){\r\n\r\n    // true by default, changed by touchstart events only\r\n    if(window.NavHoverState === true)\r\n    {\r\n        new Beep(22050).play(2000, 0.05, [Beep.utils.amplify(1000)]);\r\n    }\r\n    else\r\n    {\r\n        if ( !(typeof window.moonMesh === 'undefined' || window.moonMesh === null) ) \r\n        {\r\n            window.moonMesh.material.color.setHex( 0xffffff );\r\n        }\r\n        new Beep(22050).play(500, 0.05, [Beep.utils.amplify(1000)]);\r\n    }\r\n\r\n    \r\n}, false);\r\n\r\n\r\norbClick.onmouseover = function()\r\n{\r\n    new Beep(22050).play(2000, 0.05, [Beep.utils.amplify(1000)]);\r\n};\r\norbClick.onclick = loadOrbitControls;\r\n\r\nfunction loadOrbitControls() {\r\n    console.log(\"enter loadOrbitControls\");\r\n    if (typeof window.controls === 'undefined' || window.controls === null ) \r\n        {\r\n            console.log(\"controls are undefinied or null - so will download script and create\");\r\n            var script = document.createElement(\"script\");\r\n            script.src = 'js/OrbitControls-min.js';\r\n\r\n            play([[392, 0.2], [440, 0.3], [349, 0.2], [175, 0.3], [262, 1]]);\r\n\r\n            document.getElementsByTagName('head')[0].appendChild(script);\r\n            \r\n            script.onload = function()\r\n            {\r\n                \r\n                console.log(\"OrbitControls-min.js loaded\");\r\n                window.controls = new THREE.OrbitControls(camera, rendererGL.domElement);\r\n            };\r\n\r\n            var path = window.location.pathname;\r\n            var page = path.split(\"/\").pop();\r\n            //console.log( page );\r\n            if (page === \"index-d.html\")\r\n            {\r\n                document.getElementById(\"cameraPos\").style.display=\"block\";  \r\n            }\r\n            \r\n            // don't want to press the button again\r\n            document.getElementById(\"orbitControls\").style.display=\"none\";\r\n        }\r\n        else\r\n        {\r\n            console.log(\"Apparently controls already exist\");\r\n            \r\n            //window.controls.dispose();\r\n            if(YouTubeDefault == YOUTUBEINFRONT)\r\n            {\r\n                console.log(\"window.controls.enabled=false\");\r\n                window.controls.enabled=false;\r\n            }\r\n            else\r\n            {\r\n                console.log(\"window.controls.enabled=true\");\r\n                window.controls.enabled=true;\r\n            }\r\n\r\n        }\r\n    return false;\r\n}\r\n\r\n\r\n\r\n\r\nYouTubeLink.addEventListener('touchstart', function(e){\r\n    document.getElementById(\"li03\").classList.toggle(\"has-hover\");\r\n}, false);\r\n\r\nYouTubeLink.onclick = function(){\r\n    // toggle z-index of CSS3D renderer (with YouTube)\r\n    // to make controls accssible\r\n    if(YouTubeClickedYet == YOUTUBECLICKED)\r\n    {\r\n        controls.saveState();\r\n        if(usingTouchDevice == TOUCHNOTLIKELY)\r\n        {\r\n            if(YouTubeDefault == YOUTUBEBEHIND)\r\n            {\r\n                YouTubeDefault = YOUTUBEINFRONT;\r\n            }\r\n            else\r\n            {\r\n                YouTubeDefault = YOUTUBEBEHIND;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            screenFullSize(\"s1\"); // ASSUMPTION - SMALL SCREEN IS TOUCH DEVICE - JUST ONE EMBED\r\n        }\r\n\r\n    }\r\n    YouTubeClickedYet = YOUTUBECLICKED;\r\n    loadOrbitControls();    // also toggles enabled if already loaded, depending on z-index\r\n    YouTubeVidWall();       // will only add the videos once\r\n    return false;\r\n};\r\n\r\n// experimenting with touch, for cancelling sticky flyout menu on repeated-tap\r\n// THIS IS DEPENDENT ON HACKY-WAY OF USING KNOWN INFORMATION ON OPACITY STATE\r\n\r\nfor (var i=0; i<document.getElementsByClassName(\"sticky\").length; i++)\r\n{\r\n    var topListButtonID = document.getElementsByClassName(\"sticky\")[i].id;\r\n    \r\n    xartalog(\"Adding event listener for (\" + topListButtonID + \").children[0]\");\r\n    //xartalog(\"children length: \" + document.getElementsByClassName(\"sticky\")[i].children.length);\r\n\r\n    //for (var k=0; k<document.getElementById(topListButtonID).children.length; k++)\r\n    //{\r\n        //xartalog(k + \": \" + document.getElementById(topListButtonID).children[k].innerHTML);\r\n    //}\r\n    \r\n\r\n    (function(topListButtonID) {\r\n        \r\n        // children[0] should be the <a> href link ... using that for touch detect\r\n            var topListButtonLINK = document.getElementById(topListButtonID).children[0];\r\n            topListButtonLINK.addEventListener('touchstart', function(e)\r\n            {\r\n                //var touchlist = e.touches;\r\n                \r\n                // check out pseudo focus: ... see if can use instead\r\n                var alreadySelected = (window.getComputedStyle(document.getElementById(topListButtonID)).opacity > 0.9);\r\n                window.navDrawer.style.opacity = 1.0;\r\n\r\n                xartalog(\"<h2>touchstart:</h2><br>Already selected (\" + topListButtonID + \"): \" + alreadySelected);\r\n\r\n                if (alreadySelected)\r\n                {\r\n                    document.getElementById(topListButtonID).classList.toggle(\"has-hover\");\r\n                    xartalog(\"toggle has-hover\");\r\n                }\r\n                else\r\n                {\r\n                    document.getElementById(topListButtonID).classList.add(\"has-hover\");\r\n                    xartalog(\"add has-hover\");\r\n                }\r\n\r\n                if (hasClass( document.getElementById(topListButtonID), \"has-hover\"))\r\n                {\r\n                    window.NavHoverState = true;\r\n                    log(\"window.NavHoverState = true\");\r\n                }\r\n                else\r\n                {\r\n                    window.NavHoverState = false;\r\n                    //console.log(\"window.NavHOverState = false\");\r\n                }\r\n            }, false);\r\n    })(topListButtonID);\r\n}\r\n\r\n// *********************************************************************************************\r\n/**\r\n * YOUTUBE\r\n */\r\n\r\nvar ytWidth     = 480;              // YouTube\r\nvar ytHeight    = 360;\r\nvar vidWall     = null;\r\nvar Element;\r\nvar YtUnderConstruction;\r\nvar screens;\r\n\r\nElement = function ( id, x, y, z, ry, screenID ) \r\n{\r\n    var div = document.createElement( 'div' );\r\n    div.setAttribute(\"id\", \"vidElementDiv_\" +screenID);\r\n    div.style.width = ytWidth.toString() + 'px';\r\n    div.style.height = ytHeight.toString() + 'px';\r\n    div.style.backgroundColor = '#000';    \r\n    div.style.zIndex = '13';  \r\n    \r\n    var divPause = document.createElement( 'div' );\r\n    divPause.setAttribute(\"id\",\"pause_\"+screenID);\r\n    divPause.style.width = ytWidth.toString() + 'px';\r\n    divPause.style.height = (ytHeight-50).toString() + 'px';\r\n    divPause.style.backgroundColor = '#fff';  \r\n    divPause.style.opacity = 0;     // set higher to debug  \r\n    divPause.style.zIndex = '-1';   // relative to iframe\r\n    divPause.style.position = 'relative';\r\n    divPause.style.top = (-ytHeight).toString() + 'px';\r\n    divPause.onclick = function() {\r\n        pauseXartaVideo(screenID);\r\n    }\r\n\r\n    var iframe = document.createElement( 'iframe' );\r\n    iframe.setAttribute(\"id\", screenID);\r\n    iframe.setAttribute('allowFullScreen', true);\r\n    iframe.setAttribute('webkitallowfullscreen', true);\r\n    iframe.setAttribute('mozallowfullscreen', true);\r\n    iframe.style.width = ytWidth.toString() + 'px';\r\n    iframe.style.height = ytHeight.toString() + 'px';\r\n    iframe.style.border = '0px';\r\n    iframe.style.zIndex = 0; // just to be clear (bom bom)\r\n    iframe.src = [ 'https://www.youtube.com/embed/', id, '?enablejsapi=1&rel=0&origin=https://xarta.co.uk' ].join( '' );\r\n    div.appendChild( iframe );  \r\n    div.appendChild( divPause );        \r\n    var object = new THREE.CSS3DObject( div );\r\n    \r\n    object.position.set( x, y, z );\r\n    object.rotation.y = ry;         \r\n    return object;\r\n};\r\n\r\nYtUnderConstruction = function ( x, y, z, ry, elID ) \r\n{\r\n    var div = document.createElement( 'div' );\r\n    div.setAttribute(\"id\", elID);\r\n    div.setAttribute(\"class\", \"aboveYT\");\r\n\r\n    div.style.height = (ytHeight *0.8).toString() + 'px';\r\n    div.style.backgroundColor = '#fff';    \r\n    div.style.zIndex = '13';  \r\n\r\n    //var button = document.createElement('button');\r\n    \r\n       div.style.fontSize = '1.3rem';\r\n        div.innerHTML=\r\n            \"<style>.aboveYT{padding: 5px;} \" +\r\n            \".\" + elID + \"{list-style-type: square; list-style-position: inside;\" +\r\n            \"text-indent: -40px; padding-left: 40px; margin-left: 0;}</style>\" +\r\n            \"<h1>Under Construction:</h1><ul class='ytuc'>\" + \r\n            \"<li>Videos still to be added. Placeholder video: my [partial] Pennine Way walk, 2012.</li>\" +\r\n            \"<li>I'm planning on making a custom video loading GUI</li>\";\r\n    \r\n    // set in index-debug.html\r\n    if(window.YouTubeDefault == YOUTUBEBEHIND)\r\n    {\r\n        div.style.width = (ytWidth *2).toString() + 'px';\r\n        div.innerHTML+=\r\n            \"</ul><p>Press the Dave => YouTube menu item again to toggle controls access</p>\";\r\n        /*\r\n        var btnText = document.createTextNode('YouTube in front');\r\n        button.onclick = function()\r\n        {\r\n            alert('I was clicked');\r\n        }\r\n        */\r\n    }\r\n    else\r\n    {\r\n        div.style.width = ytWidth.toString() + 'px';\r\n        div.innerHTML+=\r\n            \"</ul><p>Press the Dave => YouTube menu item again to make screen1 go fullscreen</p>\";\r\n       \r\n        /* var btnText = document.createTextNode('FULL SCREEN');\r\n        button.onclick = function()\r\n        {\r\n            screenFullSize(\"s1\");\r\n        }\r\n        */\r\n    }\r\n    //button.appendChild( btnText );\r\n    //div.appendChild( button );  \r\n\r\n    var object = new THREE.CSS3DObject( div );\r\n    \r\n    object.position.set( x, y, z );\r\n    object.rotation.y = ry;         \r\n    return object;\r\n};\r\n\r\nfunction screenFullSize(screenID)\r\n{\r\n    fullScreen(document.getElementById(screenID));\r\n    //screen.orientation.lock('landscape');\r\n}\r\n\r\n\r\nscreens = {s1: null, s2: null, s3: null, s4: null};\r\n\r\nfunction onYouTubeIframeAPIReady() \r\n{\r\n\r\n    screens[\"s1\"] = new YT.Player('s1', \r\n    {\r\n    events:\r\n        {\r\n            'onReady': onPlayerReady,\r\n            'onStateChange': onPlayerStateChange\r\n        }\r\n    }); \r\n    \r\n    if( (window.usingTouchDevice !== TOUCHLIKELY) )\r\n    {\r\n        screens[\"s2\"] = new YT.Player('s2', \r\n        {\r\n        events:\r\n            {\r\n                'onReady': onPlayerReady,\r\n                'onStateChange': onPlayerStateChange\r\n            }\r\n        });\r\n        screens[\"s3\"] = new YT.Player('s3', \r\n        {\r\n        events:\r\n            {\r\n                'onReady': onPlayerReady,\r\n                'onStateChange': onPlayerStateChange\r\n            }\r\n        });\r\n        screens[\"s4\"] = new YT.Player('s4', \r\n        {\r\n        events:\r\n            {\r\n                'onReady': onPlayerReady,\r\n                'onStateChange': onPlayerStateChange\r\n            }\r\n        });\r\n    }\r\n\r\n    \r\n}\r\n\r\n//helper function\r\nfunction fullScreen(element) {\r\n  if(element.requestFullScreen) {\r\n    element.requestFullScreen();\r\n  } else if(element.webkitRequestFullScreen ) {\r\n    element.webkitRequestFullScreen();\r\n  } else if(element.mozRequestFullScreen) {\r\n    element.mozRequestFullScreen();\r\n  }\r\n}\r\n\r\nfunction onPlayerReady(event) {\r\n    //event.target.playVideo();\r\n}\r\n\r\nfunction onPlayerStateChange(event) {\r\n    if (event.data == YT.PlayerState.PLAYING) {\r\n\r\n        // see index-debug.html\r\n        if(window.YouTubeDefault === YOUTUBEINFRONT)\r\n        {\r\n            document.getElementById(\"ytuc\").style.display = \"none\";\r\n        }\r\n        //alert(\"pause_\" + event.target.getIframe().id);\r\n        //document.getElementById(\"pause_\" + event.target.getIframe().id).style.opacity = 1;\r\n        document.getElementById(\"pause_\" + event.target.getIframe().id).style.zIndex = 1;\r\n    }\r\n}\r\n\r\nfunction stopVideo() {\r\n    //player.stopVideo();\r\n}\r\n\r\nfunction pauseXartaVideo(screenID) {\r\n    screens[screenID].pauseVideo();\r\n    document.getElementById(\"pause_\" + screenID).style.zIndex = -1;\r\n}\r\n\r\nfunction YouTubeVidWall()\r\n{\r\n    if (vidWall === null)\r\n    {\r\n        // DO ONCE\r\n        // TODO: ADD GUI CONTROLS TO CONTROL YOUTUBE VIA IFRAME API\r\n        // HOPEFULLY WILL BE ABLE TO DYNAMICALLY CHANGE CONTENT TOO\r\n\r\n        // LOAD YOUTUBE IFRAME PLAYER API -----------------------------\r\n        // 2. This code loads the IFrame Player API code asynchronously.\r\n        var tag = document.createElement('script');\r\n\r\n        tag.src = \"https://www.youtube.com/iframe_api\";\r\n        var firstScriptTag = document.getElementsByTagName('script')[0];\r\n        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n        // It will look for global function: onYouTubeIframeAPIReady()\r\n        //  ------------------------------------------------------------\r\n\r\n        vidWall = new THREE.Group();\r\n        var x = 500;\r\n        var y = -ytHeight;\r\n\r\n        var ry = -1 * (Math.PI / 2) ; // rotate about so 90deg on the right\r\n\r\n        if( (window.usingTouchDevice == TOUCHLIKELY) )\r\n        {\r\n            var z = -100;\r\n            vidWall.add( new Element( 'DjLwd9Ih8V8', x, y, z, ry, 's1' ) );\r\n            vidWall.add( new YtUnderConstruction(x, y+ytHeight, z, ry, 'ytuc'));\r\n            sceneCSS3D.add( vidWall );\r\n        }\r\n        else\r\n        {\r\n            var z = -200;\r\n            vidWall.add( new Element( 'M7lc1UVf-VE', x, y, z, ry, 's1' ) );\r\n            vidWall.add( new Element( 'DjLwd9Ih8V8', x, y, z+ytWidth, ry, 's2' ) );\r\n            vidWall.add( new Element( 'DjLwd9Ih8V8', x, y+ytHeight, z, ry, 's3' ) );\r\n            vidWall.add( new Element( 'DjLwd9Ih8V8', x, y+ytHeight, z+ytWidth, ry, 's4' ) ); \r\n            vidWall.add( new YtUnderConstruction(x, y+(2*ytHeight), z+(0.5*ytWidth), ry, 'ytuc'));\r\n            sceneCSS3D.add( vidWall );\r\n        }\r\n        \r\n        if(window.YouTubeDefault == YOUTUBEINFRONT)\r\n        {\r\n            //camera.position.set( -358, 74, 41 );\r\n            // camera.position.set(-170, -217, -72); // hmmm\r\n            camera.position.set(-273,58.43, 57);\r\n        }\r\n        else\r\n        {\r\n            camera.position.set( -498, 20, 45 );\r\n        }\r\n        \r\n        /*\r\n        sceneCSS3D.add(new Element( 'M7lc1UVf-VE', x, y, z, ry, 's1' ) );\r\n        sceneCSS3D.add(new Element( 'DjLwd9Ih8V8', x, y, z+ytWidth, ry, 's2' ) );\r\n        sceneCSS3D.add(new Element( 'DjLwd9Ih8V8', x, y+ytHeight, z, ry, 's3' ) );\r\n        sceneCSS3D.add(new Element( 'DjLwd9Ih8V8', x, y+ytHeight, z+ytWidth, ry, 's4' ) );\r\n        */\r\n    }\r\n \r\n    // TODO: LOOK AT DOLLY OPTIONS E.G.\r\n    // https://github.com/amelierosser/threejs-camera-dolly/blob/master/index.html\r\n\r\n}\r\n\r\n\r\n// *********************************************************************************************\r\n/**\r\n * HTML5 VIDEO ELEMENT\r\n */\r\n\r\n/*\r\n// create the video element\r\n\tvar video = document.createElement( 'video' );\r\n\t// video.id = 'video';\r\n\t// video.type = ' video/ogg; codecs=\"theora, vorbis\" ';\r\n    video.crossOrigin = \"anonymous\";\r\n    video.src = \"https://xarta.co.uk/videos/sintel.ogv\";\r\n\tvideo.load(); // must call after setting/changing source\r\n\tvideo.play();\r\n\t\r\n\tvar videoImage = document.createElement( 'canvas' );\r\n\tvideoImage.width = 480;\r\n\tvideoImage.height = 204;\r\n\r\n\tvar videoImageContext = videoImage.getContext( '2d' );\r\n\t// background color if no video present\r\n\tvideoImageContext.fillStyle = '#ffffff';\r\n\tvideoImageContext.fillRect( 0, 0, videoImage.width, videoImage.height );\r\n\r\n\tvar videoTexture = new THREE.Texture( videoImage );\r\n\tvideoTexture.minFilter = THREE.LinearFilter;\r\n\tvideoTexture.magFilter = THREE.LinearFilter;\r\n\t\r\n\tvar movieMaterial = new THREE.MeshBasicMaterial( { map: videoTexture, overdraw: true, side:THREE.DoubleSide } );\r\n\t// the geometry on which the movie will be displayed;\r\n\t// \t\tmovie image will be scaled to fit these dimensions.\r\n\tvar movieGeometry = new THREE.PlaneGeometry( 240, 100, 4, 4 );\r\n\tvar movieScreen = new THREE.Mesh( movieGeometry, movieMaterial );\r\n\tmovieScreen.position.set(0,50,-100);\r\n\tsceneGL.add(movieScreen);\r\n\t\r\n\tcamera.position.set(0,150,300);\r\n\tcamera.lookAt(movieScreen.position);\r\n*/"]}